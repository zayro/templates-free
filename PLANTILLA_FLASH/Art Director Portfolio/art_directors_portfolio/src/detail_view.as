var DX:Number = PADDING_SITE + PADDING_SIDE + BORDER_SITE;var DY:Number = PADDING_SITE + BORDER_SITE + 1;var TOP_BAR_ALPHA:Number = 0;var TOP_BAR_NAV_ALPHA:Number = 72;var TOP_BAR_NAV_COLOR:Number = BUTTON_ROLLOVER_COLOR;var DVNA:Number = 20; // Detail view notch alphavar LINE_Y:Number = 96;var LINE_ALPHA:Number = 20;var IMAGE_BACKGROUND_WIDTH:Number = 491;var IMAGE_BACKGROUND_HEIGHT:Number = 276;var IMAGE_HOLDER_PADDING:Number = 8;var detailViewClips:Array = new Array();detailViewClips.push("detailView_mc.imageHolder_mc");detailViewClips.push("detailView_mc.line2_mc");detailViewClips.push("detailView_mc.backToSite_mc");detailViewClips.push("detailView_mc.topBarNav_mc");detailViewClips.push("detailView_mc.line_mc");detailViewClips.push("detailView_mc.info_mc");detailViewClips.push("detailView_mc.moreImages_mc");this.createEmptyMovieClip("detailView_mc", 11000);function resizeDetailView():Void {	positionBackToSite();	positionTopBarNav();	drawLine();	drawLine2();	positionInfo();	positionImageHolder();	positionMoreImages();}//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// TOP NAV//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Linefunction drawLine2():Void {	detailView_mc.createEmptyMovieClip("line2_mc", 11001);	with(detailView_mc.line2_mc) {		lineStyle(undefined, 0x000000, 0);		beginFill(BORDER_COLOR, LINE_ALPHA);		moveTo(DX, DY);		lineTo(Stage.width - DX, DY);		lineTo(Stage.width - DX, DY + 1);		lineTo(DX, DY + 1);		endFill(DX, DY);		_y = PADDING_SITE + BORDER_SITE + 2;	}}// Back to sitedetailView_mc.attachMovie("backToSite_id", "backToSite_mc", 11002);detailView_mc.backToSite_mc.text_mc._alpha = TOP_BAR_NAV_ALPHA;detailView_mc.backToSite_mc.btn.onRollOver = function() {	Tweener.addTween(detailView_mc.backToSite_mc.text_mc, {_blur_blurX:5, _blur_blurY:5, transition:"easeoutquint", time:0.1});	Tweener.addTween(detailView_mc.backToSite_mc.text_mc, {_blur_blurX:0, _blur_blurY:0, transition:"easeoutquint", time:0.8, delay:0.1});	Tweener.addTween(detailView_mc.backToSite_mc.text_mc, {_color:TOP_BAR_NAV_COLOR, _alpha:100, time:0.5, delay:0.1});}detailView_mc.backToSite_mc.btn.onRelease = function() {	hideDetailView();}detailView_mc.backToSite_mc.btn.onRollOut = detailView_mc.backToSite_mc.btn.onReleaseOutside = function() {	Tweener.addTween(detailView_mc.backToSite_mc.text_mc, {_color:null, _alpha:TOP_BAR_NAV_ALPHA, time:0.5});}function positionBackToSite():Void {	detailView_mc.backToSite_mc._x = DX + NOTCH_SPACING - 2;	detailView_mc.backToSite_mc._y = DY + NOTCH_SPACING + 1;}// NavdetailView_mc.attachMovie("topBarNav_id", "topBarNav_mc", 11003);detailView_mc.topBarNav_mc.projectNumber_mc._alpha = TOP_BAR_NAV_ALPHA - 25;detailView_mc.topBarNav_mc.nextText_mc._alpha = TOP_BAR_NAV_ALPHA;detailView_mc.topBarNav_mc.divider_mc._alpha = TOP_BAR_NAV_ALPHA - 25;detailView_mc.topBarNav_mc.previousText_mc._alpha = TOP_BAR_NAV_ALPHA;// Previous buttondetailView_mc.topBarNav_mc.previous_btn.onRollOver = function() {	Tweener.addTween(detailView_mc.topBarNav_mc.previousText_mc, {_blur_blurX:5, _blur_blurY:5, transition:"easeoutquint", time:0.1});	Tweener.addTween(detailView_mc.topBarNav_mc.previousText_mc, {_blur_blurX:0, _blur_blurY:0, transition:"easeoutquint", time:0.8, delay:0.1});	Tweener.addTween(detailView_mc.topBarNav_mc.previousText_mc, {_color:TOP_BAR_NAV_COLOR, _alpha:100, time:0.5, delay:0.1});}detailView_mc.topBarNav_mc.previous_btn.onRelease = function() {	previousProject();}detailView_mc.topBarNav_mc.previous_btn.onRollOut = detailView_mc.topBarNav_mc.previous_btn.onReleaseOutside = function() {	Tweener.addTween(detailView_mc.topBarNav_mc.previousText_mc, {_color:null, _alpha:TOP_BAR_NAV_ALPHA, time:0.5});}// Next buttondetailView_mc.topBarNav_mc.next_btn.onRollOver = function() {	Tweener.addTween(detailView_mc.topBarNav_mc.nextText_mc, {_blur_blurX:5, _blur_blurY:5, transition:"easeoutquint", time:0.1});	Tweener.addTween(detailView_mc.topBarNav_mc.nextText_mc, {_blur_blurX:0, _blur_blurY:0, transition:"easeoutquint", time:0.8, delay:0.1});	Tweener.addTween(detailView_mc.topBarNav_mc.nextText_mc, {_color:TOP_BAR_NAV_COLOR, _alpha:100, time:0.5, delay:0.1});}detailView_mc.topBarNav_mc.next_btn.onRelease = function() {	nextProject();}detailView_mc.topBarNav_mc.next_btn.onRollOut = detailView_mc.topBarNav_mc.previous_btn.onReleaseOutside = function() {	Tweener.addTween(detailView_mc.topBarNav_mc.nextText_mc, {_color:null, _alpha:TOP_BAR_NAV_ALPHA, time:0.5});}function positionTopBarNav():Void {	detailView_mc.topBarNav_mc._x = Stage.width - detailView_mc.topBarNav_mc._width - DX - NOTCH_SPACING + 8;	detailView_mc.topBarNav_mc._y = DY + NOTCH_SPACING + 1;}//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// INFO//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Linefunction drawLine():Void {	detailView_mc.createEmptyMovieClip("line_mc", 11004);	with(detailView_mc.line_mc) {		lineStyle(undefined, 0x000000, 0);		beginFill(BORDER_COLOR, LINE_ALPHA);		moveTo(DX, DY);		lineTo(Stage.width - DX, DY);		lineTo(Stage.width - DX, DY + 1);		lineTo(DX, DY + 1);		endFill(DX, DY);		_y = Stage.height - PADDING_SITE_BOTTOM - PADDING_SITE - BORDER_SITE - LINE_Y;	}}// InfodetailView_mc.attachMovie("info_id", "info_mc", 11005);Tweener.addTween(detailView_mc.info_mc.notch1_mc, {_alpha:DVNA, time:0});Tweener.addTween(detailView_mc.info_mc.notch2_mc, {_alpha:DVNA, time:0});// Linkvar jscommand:String;Tweener.addTween(detailView_mc.info_mc.link_mc.text_mc, {_color:BUTTON_COLOR, time:0});detailView_mc.info_mc.link_mc.btn.onRollOver = function() {	Tweener.addTween(detailView_mc.info_mc.link_mc.text_mc, {_blur_blurX:5, _blur_blurY:5, transition:"easeoutquint", time:0.1});	Tweener.addTween(detailView_mc.info_mc.link_mc.text_mc, {_blur_blurX:0, _blur_blurY:0, transition:"easeoutquint", time:0.8, delay:0.1});	Tweener.addTween(detailView_mc.info_mc.link_mc.text_mc, {_color:BUTTON_ROLLOVER_COLOR, time:0.5, delay:0.1});}detailView_mc.info_mc.link_mc.btn.onRelease = function() {	jscommand = "window.open('" + PROJECT_PATH + ITEM.LINK[currentItemNumber] + "','win');";	getURL("javascript:" + jscommand + " void(0);");}detailView_mc.info_mc.link_mc.btn.onRollOut = detailView_mc.info_mc.link_mc.btn.onReleaseOutside = function() {	Tweener.addTween(detailView_mc.info_mc.link_mc.text_mc, {_color:BUTTON_COLOR, time:0.5});}function positionInfo():Void {	detailView_mc.info_mc._x = DX;	detailView_mc.info_mc._y = Stage.height - PADDING_SITE_BOTTOM - PADDING_SITE - BORDER_SITE - LINE_Y + detailView_mc.info_mc._height + 3;}var t1:TextField = detailView_mc.info_mc.createTextField("client_txt", 11006, 300, 4, 200, 18);t1.embedFonts = true;t1.selectable = false;var t2:TextField = detailView_mc.info_mc.createTextField("agency_txt", 11007, 309, 21, 200, 18);t2.embedFonts = true;t2.selectable = false;var t3:TextField = detailView_mc.info_mc.createTextField("year_txt", 11008, 537, 4, 107, 18);t3.embedFonts = true;t3.selectable = false;var t4:TextField = detailView_mc.info_mc.createTextField("role_txt", 11009, 535, 21, 330, 18);t4.embedFonts = true;t4.selectable = false;function nextProject():Void {	if(currentItemNumber != TOTAL_ITEMS - 1) {		currentItemNumber++;	}	else {		currentItemNumber = 0;	}	infoTransition();}function previousProject():Void {	if(currentItemNumber != 0) {		currentItemNumber--;	}	else {		currentItemNumber = TOTAL_ITEMS - 1;	}	infoTransition();}function infoTransition():Void {	Tweener.addTween(detailView_mc.info_mc, {_alpha:0, time:0.5, onComplete:populateDetailView});	Tweener.addTween(detailView_mc.moreImages_mc, {_alpha:0, time:0.5});	Tweener.addTween(detailView_mc.info_mc, {_alpha:100, time:0.5, delay:0.8});	Tweener.addTween(detailView_mc.moreImages_mc, {_alpha:100, time:0.5, delay:0.8});	loadImage();}var item_fmt:TextFormat = new TextFormat();item_fmt.color = 0xffffff;item_fmt.font = "Georgia";item_fmt.size = 12;item_fmt.italic = true;function populateDetailView():Void {	t1.text = ITEM.CLIENT[currentItemNumber];	t2.text = ITEM.AGENCY[currentItemNumber];	t3.text = ITEM.YEAR[currentItemNumber];	t4.text = ITEM.ROLE[currentItemNumber];		t1.setTextFormat(item_fmt);	t2.setTextFormat(item_fmt);	t3.setTextFormat(item_fmt);	t4.setTextFormat(item_fmt);	detailView_mc.info_mc.title_mc.textBox.text = ITEM.TITLE[currentItemNumber];	detailView_mc.topBarNav_mc.projectNumber_mc.textBox.text = "PROJECT " + (currentItemNumber + 1) + "/" + TOTAL_ITEMS;		displayMoreImagesButtons(currentItemNumber);		if(ITEM.LINK[currentItemNumber] == "") {		detailView_mc.info_mc.link_mc._visible = false;	}	else {		detailView_mc.info_mc.link_mc._visible = true;	}	makeItemVisited(currentItemNumber);}//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// IMAGE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////detailView_mc.createEmptyMovieClip("imageHolder_mc", 11011);function positionImageHolder():Void {	detailView_mc.imageHolder_mc._x = Math.ceil((Stage.width/2) - IMAGE_BACKGROUND_WIDTH/2);	detailView_mc.imageHolder_mc._y = Math.ceil(Stage.height/2 - IMAGE_BACKGROUND_HEIGHT/2 - PADDING_SITE_BOTTOM + BORDER_SITE + 4);}// BackgrounddetailView_mc.imageHolder_mc.createEmptyMovieClip("imageBackground_mc", 11012);with(detailView_mc.imageHolder_mc.imageBackground_mc) {	lineStyle(undefined, 0x000000, 0);	beginFill(0xffffff, 100);	moveTo(0, 0);	lineTo(IMAGE_BACKGROUND_WIDTH, 0);	lineTo(IMAGE_BACKGROUND_WIDTH, IMAGE_BACKGROUND_HEIGHT);	lineTo(0, IMAGE_BACKGROUND_HEIGHT);	endFill(0, 0);}// MattedetailView_mc.imageHolder_mc.createEmptyMovieClip("imageMatte_mc", 11013);with(detailView_mc.imageHolder_mc.imageMatte_mc) {	lineStyle(undefined, 0x000000, 0);	beginFill(BACKGROUND_COLOR, 100);	moveTo(IMAGE_HOLDER_PADDING, IMAGE_HOLDER_PADDING);	lineTo(IMAGE_BACKGROUND_WIDTH - IMAGE_HOLDER_PADDING - 1, IMAGE_HOLDER_PADDING);	lineTo(IMAGE_BACKGROUND_WIDTH - IMAGE_HOLDER_PADDING - 1, IMAGE_BACKGROUND_HEIGHT - IMAGE_HOLDER_PADDING - 1);	lineTo(IMAGE_HOLDER_PADDING, IMAGE_BACKGROUND_HEIGHT - IMAGE_HOLDER_PADDING - 1);	lineTo(IMAGE_HOLDER_PADDING, IMAGE_HOLDER_PADDING);	endFill(IMAGE_HOLDER_PADDING, IMAGE_HOLDER_PADDING);}// ImagedetailView_mc.imageHolder_mc.createEmptyMovieClip("image_mc", 11014);detailView_mc.imageHolder_mc.image_mc._x = IMAGE_HOLDER_PADDING;detailView_mc.imageHolder_mc.image_mc._y = IMAGE_HOLDER_PADDING;function loadImage():Void {	Tweener.addTween(detailView_mc.imageHolder_mc.image_mc, {_blur_blurX:4, _blur_blurY:4, time:0.5});	Tweener.addTween(detailView_mc.imageHolder_mc.image_mc, {_alpha:0, time:0.5, delay:0.1, onComplete:function() {this._visible = false; loadNextClip();}});		enableAllButtons();	disableButton(1);}function loadNextClip():Void {	SWFAddress.setTitle(SELECTED_WORK_PAGE_TITLE + ITEM.TITLE[currentItemNumber]);		var thumb:String = ITEM.THUMB_URL[currentItemNumber];	var SWFAddressValue:String = thumb.substring(0, thumb.length - 4);		SWFAddress.setValue('/' + 'selected_work/' + SWFAddressValue);		imagePath = IMAGE_PATH + ITEM.IMAGES[currentItemNumber][0];	image_mcl.loadClip(imagePath, detailView_mc.imageHolder_mc.image_mc);		// Set up preloader	imagePreloader._visible = true;	imagePreloader._alpha = 0;	imagePreloader.onEnterFrame = fadeCircles;	Tweener.addTween(imagePreloader, {_alpha:100, time:0.5, transition:"linear"});}// Used for more images buttonsfunction loadImage2(n:Number):Void {	Tweener.addTween(detailView_mc.imageHolder_mc.image_mc, {_blur_blurX:4, _blur_blurY:4, time:0.5});	Tweener.addTween(detailView_mc.imageHolder_mc.image_mc, {_alpha:0, time:0.5, delay:0.1, onComplete:function() {this._visible = false; loadNextClip2(n);}});}function loadNextClip2(n:Number):Void {	imagePath = IMAGE_PATH + ITEM.IMAGES[currentItemNumber][n];	image_mcl.loadClip(imagePath, detailView_mc.imageHolder_mc.image_mc);	imagePreloader._visible = true;	imagePreloader._alpha = 0;	imagePreloader.onEnterFrame = fadeCircles;	Tweener.addTween(imagePreloader, {_alpha:100, time:0.5});}var imagePreloader:MovieClip = detailView_mc.imageHolder_mc.createEmptyMovieClip("imagePreloader_mc", 11016);imagePreloader._x = IMAGE_BACKGROUND_WIDTH/2;imagePreloader._y = IMAGE_BACKGROUND_HEIGHT/2;drawCircles(PRELOADER_COLOR, imagePreloader);var imagePath:String;var image_mcl:MovieClipLoader = new MovieClipLoader();var loaderListener:Object = new Object();image_mcl.addListener(loaderListener);loaderListener.onLoadComplete= function(loadTarget){	Tweener.addTween(loadTarget, {_alpha:100,  time:0.5, delay:0.2});	Tweener.addTween(imagePreloader, {_alpha:0, time:0.5, transition:"linear", onComplete:function() {this._visible = false; imagePreloader.onEnterFrame = null;}});}// BorderdetailView_mc.imageHolder_mc.createEmptyMovieClip("imageBorder_mc", 11015);with(detailView_mc.imageHolder_mc.imageBorder_mc) {	lineStyle(1, 0xcccccc, 100);	moveTo(IMAGE_HOLDER_PADDING, IMAGE_HOLDER_PADDING);	lineTo(IMAGE_BACKGROUND_WIDTH - IMAGE_HOLDER_PADDING - 1, IMAGE_HOLDER_PADDING);	lineTo(IMAGE_BACKGROUND_WIDTH - IMAGE_HOLDER_PADDING - 1, IMAGE_BACKGROUND_HEIGHT - IMAGE_HOLDER_PADDING - 1);	lineTo(IMAGE_HOLDER_PADDING, IMAGE_BACKGROUND_HEIGHT - IMAGE_HOLDER_PADDING - 1);	lineTo(IMAGE_HOLDER_PADDING, IMAGE_HOLDER_PADDING);}// More imagesdetailView_mc.attachMovie("moreImages_id", "moreImages_mc", 11017);function positionMoreImages():Void {	detailView_mc.moreImages_mc._x = Math.ceil((Stage.width/2) + (IMAGE_BACKGROUND_WIDTH/2)) + NOTCH_SPACING;	detailView_mc.moreImages_mc._y = Math.ceil(Stage.height/2 - detailView_mc.moreImages_mc._height/2 - PADDING_SITE_BOTTOM + BORDER_SITE + 4);}var moreImages_array:Array = new Array(detailView_mc.moreImages_mc.image1_mc,detailView_mc.moreImages_mc.image2_mc,detailView_mc.moreImages_mc.image3_mc,detailView_mc.moreImages_mc.image4_mc,detailView_mc.moreImages_mc.image5_mc);for(var i:Number = 0; i < moreImages_array.length; i++) {	var t:MovieClip = moreImages_array[i];	t.i = i;	Tweener.addTween(t.background_mc, {_color:BUTTON_COLOR, _alpha:70, time:0});	t.btn.onRollOver = function() {		Tweener.addTween(this._parent.background_mc, {_color:BUTTON_ROLLOVER_COLOR, time:0.3, transition:"linear"});		Tweener.addTween(this._parent.background_mc, {_color:BUTTON_ROLLOVER_COLOR, time:0, delay:0.3, transition:"linear"});	};	t.btn.onRelease = function() {		trace(this._parent.i);		loadImage2(this._parent.i);		enableAllButtons();		Tweener.addTween(this._parent.background_mc, {_color:BUTTON_COLOR, time:0.3, delay:0.3, transition:"linear"});		disableButton(this._parent.i + 1);	}	t.btn.onRollOut = t.btn.onReleaseOutside = function() {		Tweener.addTween(this._parent.background_mc, {_color:BUTTON_COLOR, time:0.3, delay:0.3, transition:"linear"});	};	t._visible = false;}function displayMoreImagesButtons(a:Number):Void {	detailView_mc.moreImages_mc.image1_mc._visible = false;	detailView_mc.moreImages_mc.image2_mc._visible = false;	detailView_mc.moreImages_mc.image3_mc._visible = false;	detailView_mc.moreImages_mc.image4_mc._visible = false;	detailView_mc.moreImages_mc.image5_mc._visible = false;		// n is the number of buttons to display	var n:Number = ITEM.IMAGES[a].length;		// Display n number of buttons	for(var i:Number = 1; i < (n + 1); i++) {		if(n > 1) {			var m:MovieClip = eval("detailView_mc.moreImages_mc.image" + i + "_mc");			m._visible = true;		}	}}function enableAllButtons():Void {	enableButton(1);	enableButton(2);	enableButton(3);	enableButton(4);	enableButton(5);}function disableButton(which:Number):Void {	var tBtn:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.btn");	var tText:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.text_mc");	var tBg:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.background_mc");	tBtn.enabled = false;	Tweener.addTween(tText, {_alpha:20, time:0.7, transition:"linear"});	Tweener.addTween(tBg, {_alpha:20, _color:BUTTON_COLOR, time:0.7, transition:"linear"});}function enableButton(which:Number):Void {	var tBtn:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.btn");	var tText:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.text_mc");	var tBg:MovieClip = eval("detailView_mc.moreImages_mc.image" + which + "_mc.background_mc");	tBtn.enabled = true;	Tweener.addTween(tText, {_alpha:100, time:0.7, transition:"linear"});	Tweener.addTween(tBg, {_alpha:70, time:0.7, transition:"linear"});}//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// INITIALIZE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////function initDetailView():Void {	detailView_mc.imageHolder_mc.image_mc._alpha = 0;	loadImage();	positionBackToSite();	positionTopBarNav();	drawLine();	drawLine2();	positionInfo();	populateDetailView();	positionImageHolder();	positionMoreImages();}detailView_mc._visible = false;